╔==============================================================================╗
║                       MONTHLY COST REPORT - RAG SYSTEM                       ║
╚==============================================================================╝

┌──────────────────────────────────────────────────────────────────────────────┐
│ MONTHLY SCENARIO                                                           │
├──────────────────────────────────────────────────────────────────────────────┤
│ • Documents in system: 50                                                    │
│ • Average tokens per document: 1,794 (double the original size)            │
│ • Document ingestions per month: 4                                           │
│ • User queries per month: 200                                                │
│ • Documents retrieved per query (top_k): 3                              │
└──────────────────────────────────────────────────────────────────────────────┘

╔==============================================================================╗
║ PART 1: BGE-M3 EMBEDDING API COSTS                                         ║
╚==============================================================================╝

┌─────────────────────────────────────────────────────────────────────────────┐
│ Document Ingestion (Re-processing documents)                               │
├─────────────────────────────────────────────────────────────────────────────┤
│   Tokens per ingestion:     89,700                                   │
│   Ingestions per month:          4                                       │
│   Total tokens/month:    358,800                                     │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ Query Embeddings (Converting user questions)                               │
├─────────────────────────────────────────────────────────────────────────────┤
│   Queries per month:        200                                           │
│   Tokens per query:         15                                            │
│   Total tokens/month:      3,000                                      │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════════════════════════════════════════════════╗
║ BGE-M3 Total Tokens:    361,800                                         ║
║ BGE-M3 Monthly Cost: $    0.0036 (@ $0.01/1M tokens)               ║
╚═════════════════════════════════════════════════════════════════════════════╝


╔==============================================================================╗
║ PART 2: GROQ LLM API COSTS (Llama 3.3 70B)                                 ║
╚==============================================================================╝

┌─────────────────────────────────────────────────────────────────────────────┐
│ Per Query Breakdown:                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│   System prompt:    37 tokens                                             │
│   User query:    15 tokens                                                │
│   Context (3 docs × 1,794):  5,382 tokens                              │
│   LLM response:   150 tokens                                              │
│   ─────────────────────────────────                                         │
│   INPUT per query:  5,434 tokens                                      │
│   OUTPUT per query:   150 tokens                                      │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ Monthly Total (200 queries):                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│   INPUT tokens:  1,086,800                                            │
│   OUTPUT tokens:     30,000                                            │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════════════════════════════════════════════════╗
║ Groq INPUT Cost: $    0.6412 (@ $0.59/1M tokens)              ║
║ Groq OUTPUT Cost: $    0.0237 (@ $0.79/1M tokens)              ║
║ Groq Total Cost: $    0.6649                                                ║
╚═════════════════════════════════════════════════════════════════════════════╝


╔══════════════════════════════════════════════════════════════════════════════╗
║                                                                              ║
║                         MONTHLY COST SUMMARY                                 ║
║                                                                              ║
╠══════════════════════════════════════════════════════════════════════════════╣
║  BGE-M3 API (embeddings):              $    0.0036  ( 0.54%)       ║
║  Groq LLM API (responses):             $    0.6649  (99.46%)       ║
║  ──────────────────────────────────────────────────────────────────────────  ║
║  TOTAL MONTHLY COST:                   $    0.6685                    ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────────────┐
│ ANNUAL PROJECTION                                                          │
├──────────────────────────────────────────────────────────────────────────────┤
│ Estimated annual cost: $      8.02                                           │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ COST BREAKDOWN BY ACTIVITY                                                 │
├──────────────────────────────────────────────────────────────────────────────┤
│ Cost per document ingestion: $  0.000897                                  │
│ Cost per user query: $  0.003325                                          │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ IMPORTANT NOTES:                                                           │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 1. BGE-M3 API vs LOCAL:                                                    │
│    • Using BGE-M3 API: $0.0036/month                                         │
│    • Using BGE-M3 LOCAL: $0.00/month (FREE)                               │
│    • Recommendation: Run BGE-M3 locally to save money!                    │
│                                                                            │
│ 2. Document updates cost:                                                  │
│    • 4 re-ingestions/month = $0.0036 (BGE-M3 API)                    │
│    • With local BGE-M3: $0.00 (FREE)                                      │
│                                                                            │
│ 3. Scaling queries:                                                        │
│    • Current: 200 queries/month = $0.6649                              │
│    • 1,000 queries/month = $3.3247                                    │
│    • 10,000 queries/month = $33.25                                   │
│                                                                            │
│ 4. Cost optimization tips:                                                 │
│    • Use local BGE-M3 to eliminate embedding API costs                    │
│    • Reduce top_k to lower Groq input tokens                              │
│    • Cache common queries to avoid repeated LLM calls                     │
│    • Groq is already the cheapest/fastest LLM option                      │
│                                                                            │
└──────────────────────────────────────────────────────────────────────────────┘